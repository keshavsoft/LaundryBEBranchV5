import"./style-BQXEPnVk.js";const c="POST",d={Accept:"application/json","Content-Type":"application/json"},u={UserName:"",Password:""},n={method:c,headers:d,body:u};let m=()=>(n.body.UserName=i(),n.body.Password=parseInt(y()),n.body=JSON.stringify(n.body),n),i=()=>{let t=document.getElementById("yourUsername");if(t!==null)return t.value.trim()},y=()=>{let t=document.getElementById("yourPassword");if(t!==null)return t.value.trim()};const g="/Login/bin/Branch/UsingJwt/CreateToken",L="/Users/Generate",I={PostUrl_Old_26Sep2025:g,PostUrl:L};let S=async()=>{let e=I.PostUrl,t=m();return await await fetch(e,t)},F=e=>{document.getElementById("yourUsername").addEventListener("input",l),document.getElementById("yourPassword").addEventListener("input",l);let o=document.getElementById("FormId").querySelectorAll("[required]"),r=!0;return o.forEach(a=>{if(a.value.trim().length===0){a.classList.add("is-invalid"),r=!1;return}}),r};const l=e=>{const t=e.target;t.classList.remove("is-invalid");const o=document.getElementById(`${t.id}TextId`);o&&(o.innerHTML="")},h="../../Branch/NewOrders/HtmlFiles/Customer.html",U={RedirectToUrl:h},p=()=>{debugger;v("KSToken")&&(window.location.href=U.RedirectToUrl)},v=e=>{const o=`; ${document.cookie}`.split(`; ${e}=`);return o.length===2?o.pop().split(";").shift():null},f=e=>{e.KReason.includes("Wrong Password")&&w(e.KReason),e.KReason.includes("Wrong Username")&&j(e.KReason)};let j=e=>{const t="yourUsername",o="usernameTextId",r=document.getElementById(t),a=document.getElementById(o);a.innerHTML=`${e}`,r.classList.add("is-invalid"),r.focus();const s=r.value.trim().length;r.setSelectionRange(0,s)},w=e=>{const t="yourPassword",o="passwordTextId",r=document.getElementById(t),a=document.getElementById(o);a.innerHTML=`${e}`,r.classList.add("is-invalid"),r.focus();const s=r.value.trim().length;r.setSelectionRange(0,s)},T=async e=>{switch(e.status){case 200:p();break;case 401:f(await e.json());break;default:console.error(`Unhandled status code: ${e.status}`)}},$=async e=>{if(e.preventDefault(),F()){let o=await S();T(o)}},P=()=>{let e=document.getElementById("loginButtonId");e!==null&&e.addEventListener("click",$)},E=()=>{P()};const B=()=>{V(),k()};let V=()=>{let e="KSToken";document.cookie=`${e}=; expires=Thu, 01 Jan 1947 00:00:00 UTC; path=/;`},k=()=>{localStorage.removeItem("BranchName"),localStorage.removeItem("DeliveryDateTime"),localStorage.removeItem("FactoryName"),localStorage.removeItem("PresentOrder"),localStorage.removeItem("PresentOrderAddOns")};const b=()=>{B(),E()},C=()=>{b()};C();
