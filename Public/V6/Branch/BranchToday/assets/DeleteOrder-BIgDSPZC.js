import"./modulepreload-polyfill-B5Qt9EMX.js";import"./EntryFile-Dg-mTZIw.js";import{S as h}from"./EntryFile-BnXMtMmL.js";let i=async()=>{document.getElementById("RefreshBSTableId").click()};const d="binV3",u="",m="Custom/Cleaning/Branch/Today/V1/OnlyOrders/GetOrdersDelete",v={StartRoute:d,tableName:u,Url:m};let f=async()=>{let e=localStorage.getItem("BranchName"),t=` /${v.Url}/${e}`;return await(await fetch(t)).json()},p=()=>{var e=$("#table");let a=V().sort((r,l)=>r.value-l.value);e.bootstrapTable("load",a)};const V=()=>jVarGlobalPresentViewData.sort((e,t)=>{const a=e.Date,r=t.Date;return a<r?-1:a>r?1:0});let w=async()=>{let e=await f();jVarGlobalPresentViewData=e,p()},g=()=>{let e=document.getElementById("RefreshBSTableId");e!==null&&e.addEventListener("click",w)},L=()=>{g()};const S="#toolbar",H="true",b="true",F="pk",j="true",B="5",C=[],Z="",R=[{field:"KS-Serial",title:"#",formatter:""},{field:"pk",title:"Order #"},{field:"CustomerData.CustomerName",title:"Customer Name"},{field:"CustomerData.inMobileNumber",title:"Mobile"},{title:"TimeSpan",field:"TimeSpan","filter-control":"select"},{title:"Pcs",field:"pcs",formatter:"",width:"100",footerFormatter:""},{title:"Settlement",formatter:"",field:"Settlement",footerFormatter:"",align:"right"},{title:"QrCodes",field:"QRRaise",formatter:"",footerFormatter:""},{title:"DeleteOrder",field:"DeleteOrders",formatter:"",footerFormatter:""}],c={toolbar:S,search:H,searchable:b,idfield:F,showFooter:j,pageSize:B,data:C,onClickRow:Z,columns:R};let I=async({inFromFetch:e})=>{e.KTF===!1?Swal.fire({icon:"warning",text:e.KReason}):e.QrCodesRaised===0?Swal.fire({icon:"error",title:"Not Raised",text:"Product Details are Empty"}):(M(),Swal.fire({icon:"success",title:"Deleted",text:" Deleted successfully"}).then(a=>{if(a.isConfirmed){const r=new URL(window.location.href),l=new URLSearchParams(r.search);let s=new URL("./DeleteOrder.html",r);const o=new URL(`${s.href}?${l}`);window.location.href=o.href}}))};const M=()=>{document.getElementById("RefreshBSTableId").click()},x=async({inRowData:e})=>{let t=e.pk,r=`/Custom/Cleaning/Branch/Today/Orders/OnlyOrders/${localStorage.getItem("BranchName")}/${t}`,o=await(await fetch(r,{method:"delete",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();return I({inFromFetch:o}),o};let D=async({inRowData:e})=>{Swal.fire({title:"Are you sure to delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete",focusCancel:!0,focusButtonColor:"#0000ff"}).then(t=>{t.isConfirmed&&x({inRowData:e}).then(a=>{})})};const y=(e,t,a)=>{a==="DeleteOrders"&&D({inRowData:e})};let T=({inFindColumn:e})=>{e.formatter=A},A=(e,t,a)=>a+1,k=({inFindColumn:e})=>{e.formatter=O,e.footerFormatter=N};function O(e,t,a){return t.IsItems?[`<span data-ordernumber="${t.pk}">`,," ",`${t.AggValues.ItemDetails}</a>`].join(""):[`<span data-ordernumber="${t.pk}" >`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"  viewBox="0 0 16 16">','<path d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4v1.06Z" />',"</svg>"," ",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">','<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>','<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>',"</svg>","</span>"].join("")}function N(e){this.field;var t=e.map(function(r){return+r.AggValues.ItemDetails.split(" / ")[1]}).reduce(function(r,l){return r+l},0),a=e.map(function(r){return+r.AggValues.ItemDetails.split(" / ")[0]}).reduce(function(r,l){return r+l},0);return`${a}/${t}`}let z=({inFindColumn:e})=>{e.formatter=Q,e.footerFormatter=U};function Q(e,t,a){return t.IsSettled?[`<span data-ordernumber="${t.pk}" >`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-currency-rupee" viewBox="0 0 16 16">','<path d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4v1.06Z" />',"</svg>"," ",`${t.AggValues.SettlementAmount}</span>`].join(""):[`<span data-ordernumber="${t.pk}">`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-currency-rupee" viewBox="0 0 16 16">','<path d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4v1.06Z" />',"</svg>"," ",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">','<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>','<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>',"</svg>","</span>"].join("")}function U(e){return this.field,"â‚¹ "+e.map(function(t){return+t.AggValues.SettlementAmount}).reduce(function(t,a){return t+a},0)}let P=({inFindColumn:e})=>{e.formatter=E,e.footerFormatter=G};function E(e,t,a){return t.IsQrCodesRaised?[`<span data-rowpk="${t.pk}" class="QRGenerateClass">`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-qr-code" viewBox="0 0 16 16">','<path d="M2 2h2v2H2V2Z"></path>','<path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"></path>','<path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"></path>','<path d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z">',"</path>",'<path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"></path>',"</svg>"," ",`${t.TotalItems}`,"</span>"].join(""):[`<span data-rowpk="${t.pk}" class="QRGenerateClass">`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-qr-code" viewBox="0 0 16 16">','<path d="M2 2h2v2H2V2Z"></path>','<path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"></path>','<path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"></path>','<path d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z">',"</path>",'<path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"></path>',"</svg>"," ",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">','<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>','<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>',"</svg>","</span>"].join("")}function G(e){return e.map(t=>t.TotalItems).reduce((t,a)=>t+a,0)}let K=({inFindColumn:e})=>{e.formatter=q};function q(e,t,a){return t.IsSettled===!0?'<span style="color: green; font-weight:bold">Settled</span>':['<a  href="#" class="btn"  style="color: red; font-size:20px" title=" Delete ">','<i class="bi bi-trash3"></i>',"</a>"].join("")}let J=({inColumns:e})=>{let t=e,a=t.find(n=>n.field==="KS-Serial"),r=t.find(n=>n.field==="pcs"),l=t.find(n=>n.field==="Settlement"),s=t.find(n=>n.field==="QRRaise"),o=t.find(n=>n.field==="DeleteOrders");a!==void 0&&T({inFindColumn:a}),r!==void 0&&k({inFindColumn:r}),l!==void 0&&z({inFindColumn:l}),s!==void 0&&P({inFindColumn:s}),o!==void 0&&K({inFindColumn:o})};const Y=()=>{var e=$("#table");c.onClickRow=y,J({inColumns:c.columns}),e.bootstrapTable(c)};let _=()=>{let t=document.getElementById("BranchNameId");const r=localStorage.getItem("BranchName").replace("BranOrders","");t!==null&&(t.innerHTML=r)};const W=()=>{_(),Y(),L()},X=()=>{W(),h({inSuccessFunc:i})&&i().then()};X();
