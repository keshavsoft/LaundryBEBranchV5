import"./style-BQXEPnVk.js";const d="POST",u={Accept:"application/json","Content-Type":"application/json"},m={UserName:"",Password:""},n={method:d,headers:u,body:m};let i=()=>(n.body.UserName=y(),n.body.Password=h(),n.body=JSON.stringify(n.body),n),y=()=>{let t=document.getElementById("yourUsername");if(t!==null)return t.value.trim()},h=()=>{let t=document.getElementById("yourPassword");if(t!==null)return t.value.trim()};const L="/Login/bin/CreateToken/UsingJwt",g={PostUrl:L};let F=async()=>{let e=g.PostUrl,t=i();return await await fetch(e,t)},w=e=>{document.getElementById("yourUsername").addEventListener("input",l),document.getElementById("yourPassword").addEventListener("input",l);let a=document.getElementById("FormId").querySelectorAll("[required]"),r=!0;return a.forEach(o=>{if(o.value.trim().length===0){o.classList.add("is-invalid"),r=!1;return}}),r};const l=e=>{const t=e.target;t.classList.remove("is-invalid");const a=document.getElementById(`${t.id}TextId`);a&&(a.innerHTML="")},I="V4",U={routePath:I},f="Branch/NewOrders/HtmlFiles/Customer.html",c={RedirectToUrl:f};let j=()=>{let e=V({inGetKey:"InKey"}),t=U.routePath,a=S();switch(e){case"Branch":localStorage.setItem("BranchName",a),window.location.href=`/${t}/${c.RedirectToUrl}`;break;case"Factory":localStorage.setItem("FactoryName",a),window.location.href="/Laundry/Factory/Inward/FromBranch/FromBranchVoucher/FactoryMenu.html";break;case"WashFactory":localStorage.setItem("FactoryName",a),window.location.href="/Laundry/Factory/Process/WashingVoucher/menu.html";break;default:localStorage.setItem("BranchName",a),window.location.href=c.RedirectToUrl;break}},S=()=>{let t=document.getElementById("yourUsername");if(t!==null)return t.value.trim()},V=({inGetKey:e})=>{const t=window.location.search;return new URLSearchParams(t).get(e)};const P=e=>{e.KReason.includes("Wrong Password")&&B(e.KReason),e.KReason.includes("Wrong Username")&&T(e.KReason)};let T=e=>{const t="yourUsername",a="usernameTextId",r=document.getElementById(t),o=document.getElementById(a);o.innerHTML=`${e}`,r.classList.add("is-invalid"),r.focus();const s=r.value.trim().length;r.setSelectionRange(0,s)},B=e=>{const t="yourPassword",a="passwordTextId",r=document.getElementById(t),o=document.getElementById(a);o.innerHTML=`${e}`,r.classList.add("is-invalid"),r.focus();const s=r.value.trim().length;r.setSelectionRange(0,s)},$=async e=>{switch(e.status){case 200:j();break;case 401:P(await e.json());break;default:console.error(`Unhandled status code: ${e.status}`)}},v=async e=>{if(e.preventDefault(),w()){let a=await F();$(a)}},E=()=>{let e=document.getElementById("loginButtonId");e!==null&&e.addEventListener("click",v)},p=()=>{E()};const b=()=>{k(),p()};let k=()=>{let e="KSToken";document.cookie=`${e}=; expires=Thu, 01 Jan 1947 00:00:00 UTC; path=/;`};const C=()=>{b()};C();
