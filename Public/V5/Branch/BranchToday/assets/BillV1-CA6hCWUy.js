import"./modulepreload-polyfill-B5Qt9EMX.js";const S="binV4",O="Openings",h={routePath:S,tableName:O};let C=async({inBodyData:t})=>{let e=t.inRowPk,a=localStorage.getItem("BranchName"),l=`/${h.routePath}/${a}/Show/${e}`;return await(await fetch(l)).json()};const g=()=>{let t=y({inGetKey:"OrderNumber"}),e=y({inGetKey:"BranchName"}),a={},l=t;return a.inRowPk=l,a.BranchName=e,a};let y=({inGetKey:t})=>{const e=window.location.search;return new URLSearchParams(e).get(t)},b=({inBillNumberid:t,inCustomerNameid:e,inMobileNumberid:a,inBookingDateid:l,inDeliveryDateid:d,inPaymentid:o,inGSTNoid:n,inBranchName:r})=>{P({inBillNumberid:t}),A({inCustomerNameid:e}),F({inMobileNumberid:a}),M({inBookingDateid:l}),G({inPaymentid:o}),p({inGSTNoid:n}),f({inBranchName:r})},P=({inBillNumberid:t})=>{let a=document.getElementById("BillNumberid");a.innerHTML=t},A=({inCustomerNameid:t})=>{let a=document.getElementById("CustomerNameid");a.innerHTML=t},F=({inMobileNumberid:t})=>{let a=document.getElementById("MobileNumberid");a.innerHTML=t},p=({inGSTNoid:t})=>{let a=document.getElementById("GSTNoid");a.innerHTML=t},M=({inBookingDateid:t})=>{let a=document.getElementById("BookingDateid");a.innerHTML=`${new Date(t).toLocaleDateString("en-GB")} ${new Date(t).toLocaleTimeString()}`},G=({inPaymentid:t})=>{let a=document.getElementById("Paymentid");a.innerHTML=t},f=({inBranchName:t})=>{let a=document.getElementById("BranchNameId");a.innerHTML=t},$=({inItemData:t,inAddOnsData:e})=>{let l=document.getElementById("ItemNamesBodyId");Object.entries(t).forEach(([o,n])=>{let r=n.AddOnArray.map(c=>`${c.AddOnService}`),m=n.AddOnArray.map(c=>c.AddOnRate).reduce((c,I)=>c+parseInt(I),0);const i=document.getElementById("TemplateForTableRowId").content.cloneNode(!0);let u=i.querySelectorAll("td");u[0].textContent=`${n.ItemName}@${parseInt(n.Rate)+m}@${r.toString()}`,u[1].textContent=n.Pcs,u[2].textContent=(parseInt(n.Rate)+m)*n.Pcs,u[3].textContent=k(new Date(n.DeliveryDateTime)),l.appendChild(i)})};function k(t){const e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getFullYear()).slice(-2);return`${e}/${a}/${l}`}let E=({inTotalPiecesid:t,inTotalPriceid:e,inDiscountAmountid:a,inNetPriceid:l,inRoundOffid:d,inCGSTid:o,inSGSTid:n,inCashAmount:r,inCardAmount:m,inUPIAmount:s})=>{let i=r+m+s;R({inTotalPiecesid:t}),w({inTotalPriceid:e}),v({inDiscountAmountid:a}),U({inRoundOffid:d}),x({invalue:o+n}),q({inGrandTotalid:i})},R=({inTotalPiecesid:t})=>{let a=document.getElementById("TotalPiecesid");a.innerHTML=t},w=({inTotalPriceid:t})=>{let a=document.getElementById("TotalPriceid");a.innerHTML=t},v=({inDiscountAmountid:t})=>{let a=document.getElementById("DiscountAmountId");a.innerHTML=t},U=({inRoundOffid:t})=>{let a=document.getElementById("RoundOffid");a.innerHTML=t},x=({invalue:t})=>{let a=document.getElementById("CGSTid");a.innerHTML=t},q=({inGrandTotalid:t})=>{let a=document.getElementById("GrandTotalid");a.innerHTML=t},K=({CashAmount:t,CardAmount:e,UPIAmount:a})=>{let l=[];return t>0&&l.push("Cash"),e>0&&l.push("Card"),a>0&&l.push("UPI"),l.join(",")},J=({inFromFetch:t})=>{let e=t,a=e.pk,l=e.CustomerData.CustomerName,d=e.CustomerData.CustomerMobile,o=e.OrderData.Currentdateandtime,n=e.CustomerData.GSTNumber,r=e.ItemsInOrder,m=e.AddOnData,s=Object.values(e.CheckOutData)[0].GstData.DiscountAmount,i=Object.values(e.CheckOutData)[0].GstData.CGST,u=Object.values(e.CheckOutData)[0].GstData.SGST,c=Object.values(e.CheckOutData)[0].RoundOff,I=Object.values(e.CheckOutData)[0].CashAmount,j=Object.values(e.CheckOutData)[0].CardAmount,T=Object.values(e.CheckOutData)[0].UPIAmount,L=0,H=0,D=K({CashAmount:I,CardAmount:j,UPIAmount:T});Object.values(e.ItemsInOrder).forEach(V=>{L+=V.Total,H+=parseInt(V.Pcs)});let B=L-s,N=t.OrderData.BranchName;b({inBillNumberid:a,inCustomerNameid:l,inMobileNumberid:d,inBookingDateid:o,inPaymentid:D,inGSTNoid:n,inBranchName:N}),$({inItemData:r,inAddOnsData:Object.values(m)}),E({inTotalPiecesid:H,inTotalPriceid:L,inDiscountAmountid:s,inNetPriceid:B,inCGSTid:i,inSGSTid:u,inRoundOffid:c,inCashAmount:I,inCardAmount:j,inUPIAmount:T}),Q()},Q=()=>{let t=document.getElementById("LeftBillId").innerHTML,e=document.getElementById("RightBillId");e.innerHTML=t},Y=async()=>{{let t=g(),e=await C({inBodyData:t});J({inFromFetch:e})}},z=async()=>{await Y()};const W=()=>{z().then(()=>{})};W();
